# Common
NODE_ENV=production
LOG_LEVEL=info

# ── Signaling Service ───────────────────────────────────────────────────────────
SIGNALING_PORT=8787
# Shared secret required for panel peers to register (`Signaling Shared Secret` field).
SIGNALING_SHARED_SECRET=change-me
# Optional JSON array of RTCIceServer definitions propagated to peers.
# Example: [{"urls":"stun:stun.l.google.com:19302"},{"urls":"turn:turn.example.org","username":"user","credential":"pass"}]
SIGNALING_ICE_SERVERS=[]

# ── Registry Service ───────────────────────────────────────────────────────────
REGISTRY_PORT=8788
REGISTRY_HOST=0.0.0.0
REGISTRY_DB_PATH=registry-data/registry.sqlite
# Comma-separated list of API keys. Provide the same value in the panel/resolver UI.
REGISTRY_API_KEYS=registry-dev-key
# Rate limiting (per API key / IP). Set to 0 to disable.
REGISTRY_RATE_LIMIT_MAX=120
REGISTRY_RATE_LIMIT_WINDOW_MS=60000
# Pointer cleanup interval (ms).
REGISTRY_POINTER_SWEEP_INTERVAL_MS=300000

# ── Storage Service ─────────────────────────────────────────────────────────────
STORAGE_PORT=8789
STORAGE_HOST=0.0.0.0
STORAGE_BACKEND=filesystem
STORAGE_DATA_DIR=storage-data
# API keys for uploads and pointer reads (panel/resolver `Storage API Key` field).
STORAGE_API_KEYS=storage-dev-key
# Per key/IP rate limiting. Set to 0 to disable.
STORAGE_RATE_LIMIT_MAX=240
STORAGE_RATE_LIMIT_WINDOW_MS=60000

# S3/MinIO backend (only required when STORAGE_BACKEND=s3)
STORAGE_S3_BUCKET=
STORAGE_S3_REGION=us-east-1
STORAGE_S3_PREFIX=dweb-chunks
STORAGE_S3_ENDPOINT=
STORAGE_S3_FORCE_PATH_STYLE=false

# ── Extension Defaults (optional for managed deployments) ───────────────────────
# These help preconfigure the browser extension via managed storage or docs.
EXTENSION_SIGNALLING_URL=wss://signaling.example.org
EXTENSION_REGISTRY_URL=https://registry.example.org
EXTENSION_STORAGE_URL=https://storage.example.org
